# E2E 테스트 계획서 (End-to-End Testing)

## 📋 테스트 개요

이 문서는 ndrop 애플리케이션의 **모든 주요 기능**에 대한 완전한 E2E 테스트 계획을 담고 있습니다.
사용자 인증부터 명함 생성, 이벤트 참여, 알림 시스템까지 전체 애플리케이션 플로우를 검증합니다.

## 🎯 테스트 목표

### 핵심 기능 검증
1. **사용자 인증 시스템** (회원가입, 로그인, 이메일 인증)
2. **온보딩 플로우** (5단계 슬라이드, 명함 생성 유도)
3. **명함 관리** (생성, 수정, work_field 필드)
4. **이벤트 시스템** (참여, QR 스캔, 명함 교환)
5. **알림 시스템** (실시간 알림, 푸시 알림)
6. **명함 수집 및 관리** (저장, 즐겨찾기, 검색)
7. **프로필 관리** (개인정보 수정, 계정 삭제)
8. **관리자 기능** (이벤트 관리, 사용자 관리, 알림 발송)

### 데이터베이스 연동 검증
- **user_profiles** 테이블 (work_field 컬럼 포함)
- **business_cards** 테이블 (work_field 컬럼 포함)
- **events** 테이블 (이벤트 CRUD)
- **notifications** 테이블 (알림 시스템)
- **collected_cards** 테이블 (명함 수집)

## 📝 전체 기능 테스트 시나리오

## 🚀 Part 1: 사용자 인증 및 온보딩

### 1. 회원가입 및 온보딩 플로우 테스트

#### 1.1 신규 회원가입
- **목적**: 새로운 사용자 회원가입 프로세스 검증
- **단계**:
  1. 홈페이지 접속
  2. 회원가입 버튼 클릭
  3. 필수 정보 입력 (이름, 이메일, 비밀번호)
  4. 약관 동의
  5. 회원가입 완료
- **예상 결과**: 회원가입 성공 후 이메일 인증 페이지로 이동

#### 1.2 이메일 인증
- **목적**: 이메일 인증 프로세스 검증
- **단계**:
  1. 인증 코드 입력 (실제 이메일 또는 테스트 코드)
  2. 인증 완료
- **예상 결과**: 인증 완료 후 온보딩 페이지로 자동 이동

#### 1.3 온보딩 슬라이드
- **목적**: 5단계 온보딩 슬라이드 정상 작동 확인
- **단계**:
  1. 온보딩 페이지 1: 서비스 소개
  2. 온보딩 페이지 2: 디지털 명함 기능 소개
  3. 온보딩 페이지 3: 이벤트 네트워킹 소개
  4. 온보딩 페이지 4: 명함 관리 기능 소개
  5. 온보딩 페이지 5: 명함 생성 안내
- **예상 결과**: 각 페이지 정상 표시, 네비게이션 버튼 작동

#### 1.4 온보딩 완료 후 명함 생성 페이지 이동
- **목적**: "명함 생성하기" 버튼 클릭 시 정확한 페이지로 이동
- **단계**:
  1. 온보딩 마지막 페이지에서 "명함 생성하기" 버튼 클릭
- **예상 결과**: `/client/namecard/create` 페이지로 이동

## 💼 Part 2: 명함 관리 시스템

### 2. 명함 생성 플로우 테스트

#### 2.1 기본 정보 입력 (소속)
- **목적**: 소속 선택 시 기본 필드들이 정상 표시되는지 확인
- **단계**:
  1. 명함 생성 페이지 접속
  2. 이름 입력
  3. 소속 유형을 "소속"으로 선택
  4. 소속, 역할 필드 확인
- **예상 결과**:
  - 소속, 역할 입력 필드가 표시됨
  - work_field 필드는 숨겨짐

#### 2.2 미소속으로 전환 테스트
- **목적**: 미소속 선택 시 work_field 필드가 정상 표시되는지 확인
- **단계**:
  1. 소속 유형을 "미소속"으로 변경
  2. 필드 변화 확인
- **예상 결과**:
  - 소속, 역할 필드가 숨겨짐
  - work_field 필드가 표시됨

#### 2.3 미소속 명함 생성
- **목적**: 미소속 선택 시 명함 생성이 정상 작동하는지 확인
- **단계**:
  1. 소속 유형: "미소속" 선택
  2. 필수 정보 입력:
     - 이름: "홍길동"
     - 하는일: "프리랜서 디자이너"
     - 연락처: "010-1234-5678"
     - 자기소개: "창의적인 디자인을 추구합니다"
  3. 명함 생성 버튼 클릭
- **예상 결과**:
  - 명함 생성 성공
  - 홈페이지로 이동
  - 데이터베이스에 work_field 값 저장 확인

#### 2.4 소속 명함 생성
- **목적**: 소속 선택 시 명함 생성이 정상 작동하는지 확인
- **단계**:
  1. 소속 유형: "소속" 선택
  2. 필수 정보 입력:
     - 이름: "김철수"
     - 소속: "네이버"
     - 역할: "프론트엔드 개발자"
     - 연락처: "010-9876-5432"
     - 자기소개: "사용자 경험을 중시하는 개발자입니다"
  3. 명함 생성 버튼 클릭
- **예상 결과**:
  - 명함 생성 성공
  - 홈페이지로 이동
  - 데이터베이스에 role 값 저장, work_field는 null 확인

## ✏️ Part 3: 명함 수정 및 프로필 관리

### 3. 명함 수정 플로우 테스트

#### 3.1 기존 명함 수정 (소속 → 미소속)
- **목적**: 소속에서 미소속으로 변경 시 필드 전환이 정상 작동하는지 확인
- **단계**:
  1. 마이페이지 → 명함 수정 페이지 이동
  2. 소속 유형을 "미소속"으로 변경
  3. work_field 입력: "개인 사업자"
  4. 저장
- **예상 결과**:
  - 필드 전환 정상 작동
  - 기존 role 값이 null로 변경
  - work_field 값이 저장됨

#### 3.2 기존 명함 수정 (미소속 → 소속)
- **목적**: 미소속에서 소속으로 변경 시 필드 전환이 정상 작동하는지 확인
- **단계**:
  1. 명함 수정 페이지에서 소속 유형을 "소속"으로 변경
  2. 소속: "카카오", 역할: "백엔드 개발자" 입력
  3. 저장
- **예상 결과**:
  - 필드 전환 정상 작동
  - work_field 값이 null로 변경
  - role 값이 저장됨

### 3.3 프로필 정보 수정
- **목적**: 마이페이지에서 개인정보 수정이 정상 작동하는지 확인
- **단계**:
  1. 마이페이지 접속
  2. 프로필 수정 버튼 클릭
  3. 이름, 연락처, 자기소개 수정
  4. 저장
- **예상 결과**: 수정된 정보가 정상 저장됨

### 3.4 계정 삭제 테스트
- **목적**: 계정 삭제 기능이 정상 작동하는지 확인
- **단계**:
  1. 마이페이지 → 계정 관리
  2. 계정 삭제 버튼 클릭
  3. 삭제 확인 모달에서 확인
  4. 삭제 완료
- **예상 결과**: 계정이 완전히 삭제되고 로그인 페이지로 이동

## 🎉 Part 4: 이벤트 시스템

### 4. 이벤트 참여 플로우
- **목적**: 이벤트 참여 및 QR 코드 스캔 기능 검증
- **단계**:
  1. 홈페이지에서 이벤트 목록 확인
  2. 이벤트 상세 페이지 접속
  3. 이벤트 참여 버튼 클릭
  4. 참여 완료 후 QR 코드 확인
- **예상 결과**: 이벤트 참여 성공, QR 코드 생성

### 4.1 QR 코드 스캔 및 명함 교환
- **목적**: QR 코드를 통한 명함 교환이 정상 작동하는지 확인
- **단계**:
  1. 스캔 카드 페이지 접속
  2. QR 코드 스캔 (또는 수동 입력)
  3. 상대방 명함 정보 확인
  4. 명함 저장 버튼 클릭
- **예상 결과**: 상대방 명함이 저장된 명함 목록에 추가됨

### 4.2 내 QR 코드 공유
- **목적**: 내 QR 코드를 다른 사람에게 공유하는 기능 검증
- **단계**:
  1. 마이 QR 페이지 접속
  2. QR 코드 이미지 확인
  3. QR 코드 다운로드 또는 공유
- **예상 결과**: QR 코드가 정상적으로 표시되고 다운로드 가능

## 🔔 Part 5: 알림 시스템

### 5. 실시간 알림 테스트
- **목적**: 실시간 알림 시스템이 정상 작동하는지 확인
- **단계**:
  1. 알림 페이지 접속
  2. 이벤트 참여 후 알림 수신 확인
  3. 명함 교환 후 알림 수신 확인
- **예상 결과**: 실시간으로 알림이 표시됨

### 5.1 알림 읽음 처리
- **목적**: 알림 읽음 처리가 정상 작동하는지 확인
- **단계**:
  1. 읽지 않은 알림 클릭
  2. 알림 상세 내용 확인
  3. 읽음 처리 확인
- **예상 결과**: 알림이 읽음 상태로 변경됨

## 📚 Part 6: 명함 수집 및 관리

### 6. 저장된 명함 관리
- **목적**: 수집한 명함 관리 기능이 정상 작동하는지 확인
- **단계**:
  1. 저장된 명함 페이지 접속
  2. 수집한 명함 목록 확인
  3. 명함 상세 보기
  4. 즐겨찾기 추가/해제
- **예상 결과**: 명함 목록이 정상 표시되고 즐겨찾기 기능 작동

### 6.1 명함 검색 기능
- **목적**: 명함 검색 기능이 정상 작동하는지 확인
- **단계**:
  1. 저장된 명함 페이지에서 검색창 사용
  2. 이름, 회사명으로 검색
  3. 검색 결과 확인
- **예상 결과**: 검색어에 맞는 명함들이 필터링되어 표시됨

### 6.2 명함 삭제 기능
- **목적**: 저장된 명함 삭제 기능이 정상 작동하는지 확인
- **단계**:
  1. 저장된 명함에서 삭제할 명함 선택
  2. 삭제 버튼 클릭
  3. 삭제 확인
- **예상 결과**: 선택한 명함이 목록에서 제거됨

## 👑 Part 7: 관리자 기능

### 7. 관리자 로그인
- **목적**: 관리자 계정으로 로그인이 정상 작동하는지 확인
- **단계**:
  1. 관리자 로그인 페이지 접속
  2. 관리자 계정 정보 입력
  3. 로그인
- **예상 결과**: 관리자 대시보드로 이동

### 7.1 이벤트 관리
- **목적**: 관리자가 이벤트를 생성, 수정, 삭제할 수 있는지 확인
- **단계**:
  1. 관리자 대시보드 → 이벤트 관리
  2. 새 이벤트 생성
  3. 이벤트 정보 수정
  4. 이벤트 삭제
- **예상 결과**: 이벤트 CRUD 기능이 정상 작동

### 7.2 사용자 관리
- **목적**: 관리자가 사용자 목록을 조회하고 관리할 수 있는지 확인
- **단계**:
  1. 관리자 대시보드 → 사용자 관리
  2. 사용자 목록 조회
  3. 사용자 상세 정보 확인
  4. 사용자 상태 변경 (필요시)
- **예상 결과**: 사용자 관리 기능이 정상 작동

### 7.3 알림 발송
- **목적**: 관리자가 사용자들에게 알림을 발송할 수 있는지 확인
- **단계**:
  1. 관리자 대시보드 → 알림 발송
  2. 알림 내용 작성
  3. 대상 사용자 선택
  4. 알림 발송
- **예상 결과**: 선택한 사용자들에게 알림이 전송됨

### 7.4 피드백 관리
- **목적**: 관리자가 사용자 피드백을 확인하고 관리할 수 있는지 확인
- **단계**:
  1. 관리자 대시보드 → 피드백 관리
  2. 피드백 목록 조회
  3. 피드백 상세 내용 확인
- **예상 결과**: 피드백 관리 기능이 정상 작동

### 8.1 user_profiles 테이블 확인
- **목적**: user_profiles 테이블에 work_field 값이 정상 저장되는지 확인
- **단계**:
  1. 미소속 사용자 명함 생성 후
  2. 데이터베이스 직접 조회
- **예상 결과**: work_field 컬럼에 입력한 값이 정상 저장됨

### 8.2 business_cards 테이블 확인
- **목적**: business_cards 테이블에 work_field 값이 정상 저장되는지 확인
- **단계**:
  1. 미소속 사용자 명함 생성 후
  2. 데이터베이스 직접 조회
- **예상 결과**: work_field 컬럼에 입력한 값이 정상 저장됨

### 8.3 events 테이블 확인
- **목적**: 이벤트 생성/수정/삭제 시 데이터베이스 연동 확인
- **단계**:
  1. 관리자가 이벤트 생성 후
  2. 데이터베이스 직접 조회
- **예상 결과**: 이벤트 정보가 정상 저장됨

### 8.4 notifications 테이블 확인
- **목적**: 알림 시스템 데이터베이스 연동 확인
- **단계**:
  1. 알림 발송 후
  2. 데이터베이스 직접 조회
- **예상 결과**: 알림 데이터가 정상 저장됨

### 8.5 collected_cards 테이블 확인
- **목적**: 명함 수집 기능 데이터베이스 연동 확인
- **단계**:
  1. 명함 교환 후
  2. 데이터베이스 직접 조회
- **예상 결과**: 수집된 명함 데이터가 정상 저장됨

## ⚠️ Part 9: 에러 케이스 및 예외 상황 테스트

### 9.1 필수 필드 누락 테스트
- **목적**: 필수 필드 누락 시 적절한 에러 메시지 표시 확인
- **단계**:
  1. 미소속 선택 후 work_field 미입력
  2. 명함 생성 시도
- **예상 결과**: 적절한 에러 메시지 표시

### 9.2 필드 길이 제한 테스트
- **목적**: 필드 길이 제한이 정상 작동하는지 확인
- **단계**:
  1. work_field에 100자 초과 입력
  2. 명함 생성 시도
- **예상 결과**: 길이 제한 에러 메시지 표시

### 9.3 네트워크 오류 처리
- **목적**: 네트워크 연결 실패 시 적절한 에러 처리 확인
- **단계**:
  1. 네트워크 연결 차단
  2. 명함 생성 시도
- **예상 결과**: 네트워크 오류 메시지 표시

### 9.4 인증 만료 처리
- **목적**: 세션 만료 시 적절한 리다이렉트 확인
- **단계**:
  1. 장시간 비활성 상태 유지
  2. 페이지 새로고침 또는 액션 시도
- **예상 결과**: 로그인 페이지로 리다이렉트

## 🎨 Part 10: UI/UX 및 접근성 테스트

### 10.1 반응형 디자인 테스트
- **목적**: 모바일/데스크톱에서 UI가 정상 표시되는지 확인
- **단계**:
  1. 다양한 화면 크기에서 테스트 (320px, 768px, 1024px, 1920px)
  2. 필드 전환 시 레이아웃 확인
  3. 네비게이션 메뉴 반응형 확인
- **예상 결과**: 모든 화면 크기에서 정상 표시

### 10.2 접근성 테스트
- **목적**: 키보드 네비게이션 및 스크린 리더 호환성 확인
- **단계**:
  1. 키보드만으로 명함 생성 플로우 진행
  2. 필드 전환 시 포커스 이동 확인
  3. ARIA 레이블 및 alt 텍스트 확인
- **예상 결과**: 키보드 네비게이션 정상 작동

### 10.3 다크모드 테스트
- **목적**: 다크모드에서 UI가 정상 표시되는지 확인
- **단계**:
  1. 다크모드 토글
  2. 모든 페이지에서 다크모드 확인
- **예상 결과**: 다크모드에서도 정상 표시

## 🔄 Part 11: 성능 및 최적화 테스트

### 11.1 페이지 로딩 속도 테스트
- **목적**: 각 페이지의 로딩 속도가 적절한지 확인
- **단계**:
  1. 각 주요 페이지 접속 시간 측정
  2. 이미지 및 리소스 로딩 시간 확인
- **예상 결과**: 3초 이내 로딩 완료

### 11.2 대용량 데이터 처리 테스트
- **목적**: 많은 명함이나 이벤트 데이터 처리 성능 확인
- **단계**:
  1. 대량의 명함 데이터 생성
  2. 검색 및 필터링 성능 확인
- **예상 결과**: 적절한 성능 유지

## 📱 Part 12: PWA 및 모바일 최적화 테스트

### 12.1 PWA 설치 테스트
- **목적**: PWA 설치 기능이 정상 작동하는지 확인
- **단계**:
  1. 브라우저에서 PWA 설치 프롬프트 확인
  2. PWA 설치 후 앱 실행
- **예상 결과**: PWA가 정상적으로 설치되고 실행됨

### 12.2 오프라인 기능 테스트
- **목적**: 오프라인 상태에서 기본 기능 작동 확인
- **단계**:
  1. 네트워크 연결 차단
  2. 캐시된 페이지 접근
- **예상 결과**: 오프라인 페이지 또는 적절한 메시지 표시

## 🔧 테스트 환경 설정

### 사전 준비
1. **데이터베이스 초기화**: 기존 USER 데이터 정리
2. **테스트 계정 준비**: 인증된 테스트 계정 정보
3. **브라우저 환경**: 시크릿 모드 또는 깨끗한 브라우저 세션

### 테스트 도구
- **Playwright**: 브라우저 자동화
- **Supabase MCP**: 데이터베이스 직접 조회
- **개발자 도구**: 콘솔 에러 확인

## 📊 테스트 결과 체크리스트

### ✅ 회원가입 및 온보딩
- [ ] 회원가입 성공
- [ ] 이메일 인증 완료
- [ ] 온보딩 5단계 정상 진행
- [ ] 명함 생성 페이지로 정확한 이동

### ✅ 명함 생성 (소속)
- [ ] 소속 선택 시 role 필드 표시
- [ ] work_field 필드 숨김
- [ ] 명함 생성 성공
- [ ] 데이터베이스에 role 값 저장

### ✅ 명함 생성 (미소속)
- [ ] 미소속 선택 시 work_field 필드 표시
- [ ] role 필드 숨김
- [ ] 명함 생성 성공
- [ ] 데이터베이스에 work_field 값 저장

### ✅ 명함 수정
- [ ] 소속 → 미소속 전환 정상
- [ ] 미소속 → 소속 전환 정상
- [ ] 필드 값 변경 정상 저장

### ✅ 데이터베이스 연동
- [ ] user_profiles 테이블 work_field 저장
- [ ] business_cards 테이블 work_field 저장
- [ ] 필드 전환 시 데이터 정상 업데이트

### ✅ 에러 처리
- [ ] 필수 필드 누락 에러
- [ ] 필드 길이 제한 에러
- [ ] 적절한 에러 메시지 표시

## 🚀 테스트 실행 순서 및 우선순위

### Phase 1: 핵심 기능 테스트 (우선순위 높음)
1. **사용자 인증 시스템** (Part 1)
2. **명함 생성/수정** (Part 2, 3) - work_field 필드 중점
3. **데이터베이스 연동** (Part 8)

### Phase 2: 주요 기능 테스트 (우선순위 중간)
4. **이벤트 시스템** (Part 4)
5. **명함 수집 및 관리** (Part 6)
6. **알림 시스템** (Part 5)

### Phase 3: 고급 기능 테스트 (우선순위 낮음)
7. **관리자 기능** (Part 7)
8. **UI/UX 및 접근성** (Part 10)
9. **에러 케이스** (Part 9)

### Phase 4: 성능 및 최적화 (선택적)
10. **성능 테스트** (Part 11)
11. **PWA 및 모바일** (Part 12)

## 📊 테스트 결과 체크리스트

### ✅ Part 1: 사용자 인증 및 온보딩
- [ ] 회원가입 성공
- [ ] 이메일 인증 완료
- [ ] 온보딩 5단계 정상 진행
- [ ] 명함 생성 페이지로 정확한 이동

### ✅ Part 2: 명함 생성 (소속)
- [ ] 소속 선택 시 role 필드 표시
- [ ] work_field 필드 숨김
- [ ] 명함 생성 성공
- [ ] 데이터베이스에 role 값 저장

### ✅ Part 2: 명함 생성 (미소속)
- [ ] 미소속 선택 시 work_field 필드 표시
- [ ] role 필드 숨김
- [ ] 명함 생성 성공
- [ ] 데이터베이스에 work_field 값 저장

### ✅ Part 3: 명함 수정
- [ ] 소속 → 미소속 전환 정상
- [ ] 미소속 → 소속 전환 정상
- [ ] 필드 값 변경 정상 저장
- [ ] 프로필 정보 수정 정상
- [ ] 계정 삭제 정상

### ✅ Part 4: 이벤트 시스템
- [ ] 이벤트 참여 성공
- [ ] QR 코드 생성 정상
- [ ] QR 코드 스캔 및 명함 교환 성공
- [ ] 내 QR 코드 공유 기능 정상

### ✅ Part 5: 알림 시스템
- [ ] 실시간 알림 수신 정상
- [ ] 알림 읽음 처리 정상
- [ ] 관리자 알림 발송 정상

### ✅ Part 6: 명함 수집 및 관리
- [ ] 명함 저장 기능 정상
- [ ] 명함 검색 기능 정상
- [ ] 즐겨찾기 기능 정상
- [ ] 명함 삭제 기능 정상

### ✅ Part 7: 관리자 기능
- [ ] 관리자 로그인 정상
- [ ] 이벤트 관리 CRUD 정상
- [ ] 사용자 관리 정상
- [ ] 알림 발송 정상
- [ ] 피드백 관리 정상

### ✅ Part 8: 데이터베이스 연동
- [ ] user_profiles 테이블 work_field 저장
- [ ] business_cards 테이블 work_field 저장
- [ ] events 테이블 연동 정상
- [ ] notifications 테이블 연동 정상
- [ ] collected_cards 테이블 연동 정상

### ✅ Part 9: 에러 처리
- [ ] 필수 필드 누락 에러
- [ ] 필드 길이 제한 에러
- [ ] 네트워크 오류 처리
- [ ] 인증 만료 처리
- [ ] 적절한 에러 메시지 표시

### ✅ Part 10: UI/UX
- [ ] 반응형 디자인 정상
- [ ] 접근성 정상
- [ ] 다크모드 정상

### ✅ Part 11: 성능
- [ ] 페이지 로딩 속도 적절
- [ ] 대용량 데이터 처리 성능 적절

### ✅ Part 12: PWA 및 모바일
- [ ] PWA 설치 정상
- [ ] 오프라인 기능 정상

## 📝 테스트 결과 문서화

### 각 테스트 실행 후 기록할 정보:
- **테스트 실행 시간**: 시작/종료 시간
- **테스트 환경**: 브라우저, 화면 크기, 네트워크 상태
- **성공/실패 여부**: 각 단계별 결과
- **발견된 문제점**: 버그, 에러, 개선사항
- **스크린샷**: 에러 발생 시 또는 중요 단계
- **데이터베이스 상태**: 테스트 전후 데이터베이스 상태
- **성능 지표**: 로딩 시간, 응답 시간
- **개선 제안**: 발견된 문제에 대한 해결 방안

### 테스트 결과 보고서 템플릿:
```
## 테스트 결과 보고서
**테스트 일시**: YYYY-MM-DD HH:MM
**테스트 환경**: Chrome 120, Windows 11, 1920x1080
**테스트 범위**: [Part X: 기능명]

### 테스트 결과 요약
- 총 테스트 케이스: X개
- 성공: X개
- 실패: X개
- 성공률: XX%

### 주요 발견사항
1. [발견된 문제점]
2. [개선 제안사항]

### 다음 단계
- [ ] 수정 필요한 부분
- [ ] 추가 테스트 필요한 부분
```

## 🎯 테스트 성공 기준

### 필수 성공 기준 (Must Pass)
- ✅ 회원가입 → 온보딩 → 명함 생성 전체 플로우
- ✅ work_field 필드 정상 작동 (미소속 선택 시)
- ✅ 데이터베이스 연동 정상 (user_profiles, business_cards)
- ✅ 기본 CRUD 기능 정상

### 권장 성공 기준 (Should Pass)
- ✅ 이벤트 참여 및 QR 코드 기능
- ✅ 명함 수집 및 관리 기능
- ✅ 알림 시스템 기본 기능
- ✅ 관리자 기본 기능

### 선택적 성공 기준 (Could Pass)
- ✅ 고급 UI/UX 기능
- ✅ 성능 최적화
- ✅ PWA 기능

---

**작성일**: 2025-01-23
**작성자**: Claude (AI Assistant)
**목적**: ndrop 애플리케이션 전체 기능에 대한 완전한 E2E 테스트 계획 수립
**버전**: v1.0
**업데이트**: work_field 필드 추가에 따른 테스트 시나리오 포함
